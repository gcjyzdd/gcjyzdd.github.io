---
layout: post
date:   2018-01-08 13:22
categories: git
---

## Revoke
Recover to an existing commit:
```
git checkout master
git reset --hard e3f1e37
git push --force origin master
# Then to prove it (it won't print any diff)
git diff master..origin/master
```

## stash

```sh
git stash file1
git pull --rebase
git stash pop
```

## History

`git log`

`git log --oneline master`

## List all branches

`git branch -a`

## Fetch a file from a branch

Display files:
```
git show your_branch:path/to/file
```

Fetch the file:
```
git checkout my-awesome-source-branch -- the/path/to/yourfile
```

## Pull remote repository to existing (current) directory

```sh
git init .
git remote add origin <repository-url>
git pull origin master
```

## gitlab Command line instructions

### Git global setup

git config --global user.name "Changjie"
git config --global user.email "changjieguan@gmail.com"

### Create a new repository

git clone git@gitlab.com:gcjyzdd/pso_mpc_solver.git
cd pso_mpc_solver
touch README.md
git add README.md
git commit -m "add README"
git push -u origin master

### Existing folder

cd existing_folder
git init
git remote add origin git@gitlab.com:gcjyzdd/pso_mpc_solver.git
git add .
git commit -m "Initial commit"
git push -u origin master

### Existing Git repository

cd existing_repo
git remote rename origin old-origin
git remote add origin git@gitlab.com:gcjyzdd/pso_mpc_solver.git
git push -u origin --all
git push -u origin --tags
